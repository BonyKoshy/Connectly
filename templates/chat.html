<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connectly Chat</title>
    <meta name="description" content="Secure, real-time chat interface.">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stylechat.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="icon" href="/static/images/logo.png" type="image/png">

</head>
<body data-username="{{ session['user'] }}">
    <div class="chat-container">
        <!-- Sidebar -->
        <aside class="sidebar">
          <nav class="nav-buttons">
              <a class="nav-btn" href="{{ url_for('auth.logout') }}" aria-label="Connectly Home"><i class="bi bi-chat-text"></i> <span class="label">Connectly</span></a>
              <a class="nav-btn" href="{{ url_for('chat.chat_list') }}" aria-label="Chats"><i class="bi bi-chat"></i> <span class="label">Chats</span></a>
              <a class="nav-btn" href="{{ url_for('main.groups') }}" aria-label="Groups"><i class="bi bi-people"></i> <span class="label">Groups</span></a>
              <a class="nav-btn" href="{{ url_for('main.filetransfer') }}" aria-label="File Sharing"><i class="bi bi-folder"></i> <span class="label">Sharing</span></a>
          </nav>
          <div class="bottom-buttons">
              <a class="nav-btn active" href="{{ url_for('main.profile') }}" aria-label="User Profile"><i class="bi bi-person-circle"></i> <span class="label">{{ username }}</span></a>
              <a class="nav-btn" href="{{ url_for('auth.logout') }}" aria-label="Logout"><i class="bi bi-box-arrow-right"></i> <span class="label">Logout</span></a>
          </div>
      </aside>
        
        <!-- Main Chat Area -->
        <main class="chat-main">
          <div class="chat-header">
              <div class="avatar">
                  <i class="bi bi-person-circle" style="font-size: 2rem; color: #666;"></i>
              </div>
              <div class="chat-header-info">
                  <div class="chat-name" id="chat-name">{{ receiver_name }}</div>
              </div>

          </div>
      
          <div class="toast" id="toast" style="display: none;">
              User has joined the room
          </div>
          <div class="chat-messages">

              <div class="messages-container" id="messages-container"></div>
          </div>
          <div class="messageBox">
            <div class="fileUploadWrapper">
                <label for="file">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 337 337">
                        <circle stroke-width="20" stroke="#6c6c6c" fill="none" r="158.5" cy="168.5" cx="168.5"></circle>
                        <path stroke-linecap="round" stroke-width="25" stroke="#6c6c6c" d="M167.759 79V259"></path>
                        <path stroke-linecap="round" stroke-width="25" stroke="#6c6c6c" d="M79 167.138H259"></path>
                    </svg>
                    <span class="tooltip">Add Image!</span>
                </label>
                <input type="" id="file" name="file" />
            </div>

            <input required placeholder="Message..." type="text" id="messageInput" aria-label="Type a message" />

            <button id="sendButton" aria-label="Send Message">
                <div class="svg-wrapper-1">
                    <div class="svg-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path fill="currentColor"
                                d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z">
                            </path>
                        </svg>
                    </div>
                </div>
                <span>Send</span>
            </button>
        </div>
        </div>
    </main>
    </div>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/chats.js') }}"></script>



</body>
</html>
