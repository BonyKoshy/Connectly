{% extends 'base.html' %}

{% block title %}Connectly - Profile{% endblock %}

{% block body_class %}chat-app{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
{% endblock %}

{% block content %}
<div class="chat-layout bg-white dark:bg-slate-900 transition-colors duration-300">
    <!-- Sidebar -->
    <aside class="chat-sidebar">
        <div class="chat-sidebar__nav">
            <a class="nav-item" href="{{ url_for('main.index') }}" title="Home">
                <i class="bi bi-house-door nav-item__icon"></i>
                <span class="nav-item__label">Home</span>
            </a>
            <a class="nav-item" href="{{ url_for('chat.chat_list') }}" title="Chats">
                <i class="bi bi-chat-dots nav-item__icon"></i>
                <span class="nav-item__label">Chats</span>
            </a>
            <a class="nav-item" href="{{ url_for('main.groups') }}" title="Groups">
                <i class="bi bi-people nav-item__icon"></i>
                <span class="nav-item__label">Groups</span>
            </a>
            <a class="nav-item" href="{{ url_for('main.filetransfer') }}" title="Files">
                <i class="bi bi-folder2-open nav-item__icon"></i>
                <span class="nav-item__label">Files</span>
            </a>
        </div>
        
        <div class="chat-sidebar__bottom">
            <div class="nav-item">
                <label for="themeToggle" class="themeToggle st-sunMoonThemeToggleBtn">
                    <input type="checkbox" id="themeToggle" class="themeToggleInput" aria-label="Toggle Theme" />
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor" stroke="none">
                        <mask id="moon-mask-sidebar-profile">
                            <rect x="0" y="0" width="20" height="20" fill="white"></rect>
                            <circle cx="11" cy="3" r="8" fill="black"></circle>
                        </mask>
                        <circle class="sunMoon" cx="10" cy="10" r="8" mask="url(#moon-mask-sidebar-profile)"></circle>
                        <g>
                            <circle class="sunRay sunRay1" cx="18" cy="10" r="1.5"></circle>
                            <circle class="sunRay sunRay2" cx="14" cy="16.928" r="1.5"></circle>
                            <circle class="sunRay sunRay3" cx="6" cy="16.928" r="1.5"></circle>
                            <circle class="sunRay sunRay4" cx="2" cy="10" r="1.5"></circle>
                            <circle class="sunRay sunRay5" cx="6" cy="3.1718" r="1.5"></circle>
                            <circle class="sunRay sunRay6" cx="14" cy="3.1718" r="1.5"></circle>
                        </g>
                    </svg>
                </label>
            </div>
            <a class="nav-item nav-item--active" href="{{ url_for('main.profile') }}" title="Profile">
                <div class="avatar avatar--small"><i class="bi bi-person"></i></div>
                <span class="nav-item__label">{{ username }}</span>
            </a>
            <a class="nav-item" href="{{ url_for('auth.logout') }}" title="Logout">
                <i class="bi bi-box-arrow-right nav-item__icon"></i>
                <span class="nav-item__label">Logout</span>
            </a>
        </div>
    </aside>

    <main class="chat-main">
        <div class="chat-content" style="align-items: center; justify-content: center; height: 100%;">
             <div class="profile-card bg-slate-50 dark:bg-slate-800 transition-colors p-[48px] border-radius-[28px] text-center max-w-[500px] width-[100%]">
                <div class="avatar" style="width: 120px; height: 120px; margin: 0 auto 24px; font-size: 48px;">
                    {{ username[0]|upper }}
                </div>
                <h2 class="headline-medium text-slate-800 dark:text-white">{{ username }}</h2>
                <p class="body-medium" style="color: var(--md-sys-color-on-surface-variant); margin-top: 8px;">Active User</p>
                
                <div class="actions" style="margin-top: 32px; display: flex; gap: 16px; justify-content: center;">
                    <button class="btn" style="width: auto;">Edit Profile</button>
                    <a href="{{ url_for('auth.logout') }}" class="btn" style="background-color: var(--md-sys-color-error-container); color: var(--md-sys-color-on-error-container);">Logout</a>
                </div>
             </div>
        </div>
    </main>
</div>
{% endblock %}
